function x(){document.querySelectorAll('[data-module="header"]').forEach(a=>{var p;if(a.__header_inited)return;a.__header_inited=!0;const s=a.querySelector("#main-nav"),u=[...s.querySelectorAll(".nav__item")],r=a.querySelector(".header__burger"),l=e=>e.querySelector(".nav__link"),h=e=>{const t=l(e).getAttribute("aria-controls");return t?a.querySelector("#"+t):null},m=e=>{const t=l(e),n=h(e);!t||!n||(e.classList.add("is-open"),t.setAttribute("aria-expanded","true"),n.hidden=!1)},f=e=>{const t=l(e),n=h(e);e.classList.remove("is-open"),t&&t.setAttribute("aria-expanded","false"),n&&(n.hidden=!0)},i=()=>u.forEach(f);r==null||r.addEventListener("click",()=>{const e=r.getAttribute("aria-expanded")==="true";r.setAttribute("aria-expanded",e?"false":"true"),a.classList.toggle("menu-open",!e),e&&i()});let c=null;u.forEach(e=>{e.addEventListener("pointerenter",()=>{window.matchMedia("(max-width:1024px)").matches||(clearTimeout(c),c=setTimeout(()=>{i(),m(e)},80))}),e.addEventListener("pointerleave",()=>{window.matchMedia("(max-width:1024px)").matches||(clearTimeout(c),c=setTimeout(()=>f(e),120))})}),s.addEventListener("click",e=>{const t=e.target.closest(".nav__link");if(!t)return;const n=t.closest(".nav__item"),o=t.getAttribute("aria-expanded")==="true";i(),o||m(n)}),s.addEventListener("keydown",e=>{const t=e.target.closest(".nav__link");if(t)switch(t.closest(".nav__item"),e.key){case"Enter":case" ":e.preventDefault(),t.click();break;case"Escape":i(),t.focus();break;case"ArrowRight":case"ArrowLeft":{e.preventDefault();const n=[...s.querySelectorAll(".nav__link")],o=n.indexOf(t),_=e.key==="ArrowRight"?(o+1)%n.length:(o-1+n.length)%n.length;n[_].focus();break}}}),document.addEventListener("pointerdown",e=>{window.matchMedia("(max-width:1024px)").matches||a.contains(e.target)||i()});const d=window.matchMedia("(min-width:1025px)"),v=()=>{d.matches&&(r==null||r.setAttribute("aria-expanded","false"),a.classList.remove("menu-open"),i())};(p=d.addEventListener)==null||p.call(d,"change",v)})}export{x as default};
